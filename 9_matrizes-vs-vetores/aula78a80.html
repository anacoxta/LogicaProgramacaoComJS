<!DOCTYPE html>
<html>
  <head>
    <title>Lógica de Programação com JS</title>
    <meta charset="utf-8">
    <style>
      table{border-collapse: collapse; max-width: 500px; width: 100%;}
      th,td {border: solid 1px burlywood; width: 16.66%}
    </style>
  </head>
  <body>
    <h1>Lógica de Programação com JS</h1>
    <h3>Terminologia</h3>
    <p><b>VETORES</b> = Array uni-dimensional (um nível)<br/>
    ex: nomes = ['Maria', 'João', 'José', 'Ana']<br/>
    nomes[2] === 'José' //true</p>
    <p><b>MATRIZES</b> = Array multi-dimensional (2+ níveis)<br/>
    numeros = [[1,2,3], [4,5,6], [7,8,9]]<br/>
    numeros[1] //[4,5,6]<br/>
    numeros[1][2] //6<br/>
    numeros[2][1] //8</p>
    <hr/>
    <h3>Desafio</h3>
    <p>Dado um array de objetos contendo o nome do aluno e suas notas,<br>
    mostrar na tela:<br>
    <ul>
      <li>O nome de todos os alunos,</li>
      <li>As respectivas notas,</li>
      <li>A média anual de cada aluno e</li>
      <li>A media anual da sala</li>
    </ul></p>
    <p>O array:<br/>
      var alunos = [{nome: 'Maria', notas: [2,5,8,9]},{nome: 'José', notas: [2,1,5,8]},{nome: 'João', notas: [1,5,3,2]},{nome: 'Ana', notas: [4,5,3,8]},{nome: 'lucia', notas: [2,1,8,5]}];</p>
    <h3>Resolução</h3>
    <table>
      <tr>
        <th>Nome</th>
        <th>n1</th>
        <th>n2</th>
        <th>n3</th>
        <th>n4</th>
        <th>MÉDIA</th>
      </tr>
    </table>
    <div id="media-da-classe"></div>


    <script>

      var alunos = [
        {nome: 'Maria', notas: [2,5,8,9]},
        {nome: 'José', notas: [2,1,5,8]},
        {nome: 'João', notas: [1,5,3,2]},
        {nome: 'Ana', notas: [4,5,3,8]},
        {nome: 'lucia', notas: [2,1,8,5]}
      ];

      function tabulacao() {
        var novoArray = []
        var mediaDaClasse = 0

        for (var i=0 ; i<alunos.length ; i++) {
  
          var aluno = {
              nome: alunos[i].nome,
              n1: alunos[i].notas[0],
              n2: alunos[i].notas[1],
              n3: alunos[i].notas[2],
              n4: alunos[i].notas[3],
              media: (alunos[i].notas[0] + alunos[i].notas[1] + alunos[i].notas[2] + alunos[i].notas[3])/4
          }
          insereAlunoNaTabela(aluno)
          mediaDaClasse += aluno.media
        }
        var divMediaClasse = document.querySelector('#media-da-classe')
        divMediaClasse.innerHTML = '<br/>A média anual da classe é: ' + (mediaDaClasse / alunos.length)

      }

      function montaCelulaTd(dado) {
        var celula = document.createElement('td')
        celula.textContent = dado
        return celula
      }

      function montaLinhaTr(aluno) {
          var linha = document.createElement('tr')
          linha.appendChild(montaCelulaTd(aluno.nome))
          linha.appendChild(montaCelulaTd(aluno.n1))
          linha.appendChild(montaCelulaTd(aluno.n2))
          linha.appendChild(montaCelulaTd(aluno.n3))
          linha.appendChild(montaCelulaTd(aluno.n4))
          linha.appendChild(montaCelulaTd(aluno.media))
          return linha
        }

      function insereAlunoNaTabela(aluno) {
        var linha = montaLinhaTr(aluno)
        var tabela = document.querySelector('table')
        tabela.appendChild(linha)
      }

      tabulacao()


    </script>

  </body>
</html>